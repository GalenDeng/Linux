## vim操作 （2016.11.21）
1. `分割窗口` : 这两个窗口`允许你同时显示一个文件的两个部分`
* vim test.sh(文件名)
* :split          //分割窗口
* 此时执行 `CTRL + W/w` 可以 进行这两个`窗口间的跳转` 
```
* 最好连续按两次 `CTRL + W/w` 确保跳转
```
* :close   : `关闭VIM的窗口,但不关闭仅剩下的最后的窗口`,要`关闭最后的窗口`，请`使用 :quit :wq :q`等操作命令
* :only  : `保留光标当前的窗口，关闭其他的所有窗口`,若`关闭的窗口中存在修改了没保存的状态`的时候，`vim会显示报错信息，且该窗口会保留下来`,不关闭
* 在已经vim test.sh的基础上,打开see.sh文件,分割test.sh的一半的显示空间,并且此时的光标在这个新打开并编辑的文件中,命令为 `:split see.sh`
* `注意`
```
*  :split see.sh      //打开另一个窗口并用这个窗口编辑另一个指定的文件[该文件是已存在的文件,不是刚新建的]
*  :new
```
* `:3split see.sh` : `打开一个三行的窗口并编辑文件 see.sh`
```
Vertical segmentation   //垂直分割
```
* `:vsplit` : `垂直分割`
* `:vsplit see.sh` : `垂直分割,但是是打开不同的文件进行对比查看`
* `:vertical new` ： `把光标当前位置的文件垂直分割,分出新的文件窗口`
* `总结`
```
CTRL-W h     跳转到左边的窗口
CTRL-W j     跳转到下面的窗口
CTRL-W k     跳转到上面的窗口
CTRL-W l     跳转到右边的窗口
CTRL-W t     跳转到最顶上的窗口
CTRL-W b     跳转到最底下的窗口
```
* `推出所有窗口` : `:qall  或者 :qa`  //:quit all
```
任何一个窗口没有存盘，Vim 都不会退出,光标会自动跳到那个问题窗口，此时我们
可以执行 :write 或者 :quit! 操作
```
* `全部保存`  ： `:wall 或者 :wa`   //:write all
```
实际上，它只会保存修改过的文件
```
* `保存所有修改过的文件并退出 Vim` : `:wqall 或者 :wqa`
* `退出 Vim 并放弃所有修改`: `:qall! 或者 :qa!`
```
这个命令是不能撤消
```
* `让 Vim 为每个文件打开一个窗口，可以使用 "-o" 参数`
```
vim -o one.txt two.txt three.txt
```
```
"-o" 参数用于垂直分割窗口
```
* `特殊的启动 Vim 的方法可以用来显示两个文件的区别`
```
* $ vimdiff  see.sh see~.sh
```
```
* Vim会用垂直分割的方式打开两个文件。你只能看到你修改过的地方和上下几行的地方
```
* `效果图`
* ![效果图](https://github.com/GalenDeng/linux/blob/master/vim%E6%93%8D%E4%BD%9C/vimdiff.png)
```
你会发现每个折叠在那个位置都有一个加号。把鼠标移到那里并按左键可以打开那个折起，从而让你看到里面的内容。对于打开的折叠，折叠栏上会出现一个减号。如果你单击那个减号，折叠会被重新关闭。当然，这只能在你有鼠标的情况下使用。如果你没有，可以用 "zo" 打开一个折叠。关闭使用 "zc"
```
* `用vim做比较`
```
启动比较模式的另一种方法是从 Vim 内部开始：编辑 "main.c" 文件，然后分割窗口显示区别
:edit main.c
:vertical diffsplit main.c
":vertical" 命令使窗口用垂直的方式分割。如果你不写这个命令，结果会变成水平分割。
```
```
如果你有一个当前文件的补丁或者 diff 文件，你可以有第三种方法启动比较模式：先编辑这个文件，然后告诉 Vim 补丁文件的名称：
:edit main.c
:vertical diffpatch main.c diff

* 补丁文件中必须仅包括为一个目标文件所做的补丁，否则你可能会得到一大堆错误信息。还可能有些你没打算打补丁的文件被打了补丁。补丁功能只改变你内存中的文件，不会修改你硬盘上的文件（除非你决定写入改动）
```
* `滚屏绑定` : `可以用通常的方式滚动屏幕。Vim 会尽可能保持两个文件对齐，以便你可以并排看到文件的区别`
```
关闭此特性： :set noscrollbind
```
* `跳转到修改的地方`
```
* ]c    //跳转
* 2]c   //加上跳转次数
* [c    //反向跳转
* 2[c   //加上跳转次数